{"ast":null,"code":"var _jsxFileName = \"C:\\\\Markatlas\\\\test\\\\Aitgiant-Test-Admin\\\\src\\\\components\\\\AddCourseForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { initializeApp } from 'firebase/app';\nimport { getFirestore, collection, addDoc } from 'firebase/firestore';\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL } from 'firebase/storage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA4qjcP40hgzx-gWKqVB6c9h9OKpecZobw\",\n  authDomain: \"lms-1-36b1f.firebaseapp.com\",\n  projectId: \"lms-1-36b1f\",\n  storageBucket: \"lms-1-36b1f.appspot.com\",\n  messagingSenderId: \"568729903010\",\n  appId: \"1:568729903010:web:5e85a998503b1054f9dcfb\",\n  measurementId: \"G-Z5844EFCH1\"\n};\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst storage = getStorage(app);\nconst AddCourseForm = () => {\n  _s();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [courseName, setCourseName] = useState('');\n  const [description, setDescription] = useState('');\n  const [subCourses, setSubCourses] = useState([{\n    name: '',\n    description: '',\n    additionalContents: [],\n    topics: []\n  }]);\n  const [showAlert, setShowAlert] = useState(false);\n  const [alertMessage, setAlertMessage] = useState('');\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [isUploading, setIsUploading] = useState(false);\n  const [courseThumbnailURL, setCourseThumbnailURL] = useState('');\n  useEffect(() => {\n    // Check if any file is being uploaded\n    const uploading = subCourses.some(subCourse => subCourse.additionalContents.some(content => content.uploading));\n    setIsUploading(uploading);\n  }, [subCourses]);\n  const handleAdditionalContentChange = (subCourseIndex, contentIndex, value) => {\n    setSubCourses(prevSubCourses => {\n      const updatedSubCourses = [...prevSubCourses];\n      updatedSubCourses[subCourseIndex].additionalContents[contentIndex].value = value;\n      return updatedSubCourses;\n    });\n  };\n  const handleNextStep = () => {\n    if (currentStep < 4) setCurrentStep(currentStep + 1);else handleSubmit();\n  };\n  const handlePreviousStep = () => {\n    setCurrentStep(currentStep - 1);\n  };\n  const handleAddTopic = subCourseIndex => {\n    const updatedSubCourses = [...subCourses];\n    updatedSubCourses[subCourseIndex].topics.push({\n      name: '',\n      videoUrl: ''\n    });\n    setSubCourses(updatedSubCourses);\n  };\n  const handleRemoveTopic = (subCourseIndex, topicIndex) => {\n    const updatedSubCourses = [...subCourses];\n    updatedSubCourses[subCourseIndex].topics.splice(topicIndex, 1);\n    setSubCourses(updatedSubCourses);\n  };\n  const handleFileUpload = async (event, subCourseIndex, contentIndex, isVideoUpload) => {\n    try {\n      const uploadedFile = event.target.files[0];\n      let storagePath = '';\n\n      // Determine storage path based on whether it's a video upload or additional content upload\n      if (isVideoUpload) {\n        storagePath = `videos/${uploadedFile.name}`;\n      } else {\n        storagePath = `additional/${uploadedFile.name}`;\n      }\n      const storageRef = ref(storage, storagePath);\n      const uploadTask = uploadBytesResumable(storageRef, uploadedFile);\n      uploadTask.on('state_changed', snapshot => {\n        const progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n        setUploadProgress(progress);\n      }, error => {\n        console.error('Error uploading file:', error);\n      }, () => {\n        getDownloadURL(uploadTask.snapshot.ref).then(downloadURL => {\n          setSubCourses(prevSubCourses => {\n            const updatedSubCourses = [...prevSubCourses];\n            if (isVideoUpload) {\n              updatedSubCourses[subCourseIndex].topics[contentIndex].videoUrl = downloadURL;\n            } else {\n              if (!updatedSubCourses[subCourseIndex].additionalContents[contentIndex]) {\n                updatedSubCourses[subCourseIndex].additionalContents[contentIndex] = {\n                  type: '',\n                  value: ''\n                };\n              }\n              updatedSubCourses[subCourseIndex].additionalContents[contentIndex].value = downloadURL;\n            }\n            return updatedSubCourses;\n          });\n        });\n      });\n    } catch (error) {\n      console.error('Error uploading file:', error);\n    }\n  };\n\n  // const handleSubmit = async () => {\n  //   try {\n  //     // Check if any file is still uploading\n  //     if (isUploading) {\n  //       setAlertMessage('Please wait for all files to finish uploading.');\n  //       setShowAlert(true);\n  //       return;\n  //     }\n\n  //     const courseData = {\n  //       courseName,\n  //       description,\n  //       courseThumbnailURL, // Add course thumbnail URL here\n  //       subCourses\n  //     };\n\n  //     // Map over subCourses to include additionalContents\n  //     const formattedSubCourses = subCourses.map(subCourse => ({\n  //       ...subCourse,\n  //       additionalContents: subCourse.additionalContents.map(content => ({\n  //         type: content.type,\n  //         value: content.value // URL fetched from storage\n  //       }))\n  //     }));\n\n  //     courseData.subCourses = formattedSubCourses;\n\n  //     await addDoc(collection(db, 'courses'), courseData);\n\n  //     setAlertMessage('Course added successfully');\n  //     setShowAlert(true);\n\n  //     setCourseName('');\n  //     setDescription('');\n  //     setCourseThumbnailURL(''); // Reset course thumbnail URL\n  //     setSubCourses([{ name: '', description: '', additionalContents: [], topics: [] }]);\n  //     setCurrentStep(1);\n  //   } catch (error) {\n  //     setAlertMessage('Error adding course. Please try again.');\n  //     setShowAlert(true);\n  //     console.error('Error adding course:', error);\n  //   }\n  // };\n\n  const handleSubmit = async () => {\n    try {\n      // Check if any file is still uploading\n      if (isUploading) {\n        setAlertMessage('Please wait for all files to finish uploading.');\n        setShowAlert(true);\n        return;\n      }\n      const courseData = {\n        courseName,\n        description,\n        courseThumbnailURL,\n        // Add course thumbnail URL here\n        subCourses\n      };\n\n      // Map over subCourses to include additionalContents\n      const formattedSubCourses = subCourses.map(subCourse => ({\n        ...subCourse,\n        additionalContents: subCourse.additionalContents.map(content => ({\n          type: content.type,\n          value: content.value // URL fetched from storage\n        }))\n      }));\n      courseData.subCourses = formattedSubCourses;\n      await addDoc(collection(db, 'courses'), courseData);\n      setAlertMessage('Course added successfully');\n      setShowAlert(true);\n      setCourseName('');\n      setDescription('');\n      setCourseThumbnailURL(''); // Reset course thumbnail URL\n      setSubCourses([{\n        name: '',\n        description: '',\n        additionalContents: [],\n        topics: []\n      }]);\n      setCurrentStep(1);\n    } catch (error) {\n      setAlertMessage('Error adding course. Please try again.');\n      setShowAlert(true);\n      console.error('Error adding course:', error);\n    }\n  };\n  const handleAddSubCourse = () => {\n    setSubCourses([...subCourses, {\n      name: '',\n      description: '',\n      additionalContents: [],\n      topics: []\n    }]);\n    setCurrentStep(2); // Redirect to Step 2\n  };\n  const handleRemoveSubCourse = index => {\n    const updatedSubCourses = [...subCourses];\n    updatedSubCourses.splice(index, 1);\n    setSubCourses(updatedSubCourses);\n  };\n  const handleAddAdditionalContent = subCourseIndex => {\n    const updatedSubCourses = [...subCourses];\n    updatedSubCourses[subCourseIndex].additionalContents.push({\n      type: '',\n      value: ''\n    });\n    setSubCourses(updatedSubCourses);\n  };\n  const handleRemoveAdditionalContent = (subCourseIndex, contentIndex) => {\n    const updatedSubCourses = [...subCourses];\n    updatedSubCourses[subCourseIndex].additionalContents.splice(contentIndex, 1);\n    setSubCourses(updatedSubCourses);\n  };\n  const handleVideoUpload = async (event, subCourseIndex, topicIndex) => {\n    try {\n      const uploadedVideo = event.target.files[0];\n      const storageRef = ref(storage, `videos/${uploadedVideo.name}`);\n      const uploadTask = uploadBytesResumable(storageRef, uploadedVideo);\n      uploadTask.on('state_changed', snapshot => {\n        // Handle progress\n      }, error => {\n        console.error('Error uploading video:', error);\n      }, () => {\n        getDownloadURL(uploadTask.snapshot.ref).then(downloadURL => {\n          setSubCourses(prevSubCourses => {\n            const updatedSubCourses = [...prevSubCourses];\n            updatedSubCourses[subCourseIndex].topics[topicIndex].videoUrl = downloadURL;\n            return updatedSubCourses;\n          });\n        });\n      });\n    } catch (error) {\n      console.error('Error uploading video:', error);\n    }\n  };\n  const renderProgressBar = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full bg-gray-200 h-4 rounded\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-green-500 h-full rounded\",\n        style: {\n          width: `${uploadProgress}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this);\n  };\n  const handleThumbnailUpload = async event => {\n    try {\n      const uploadedFile = event.target.files[0];\n      const storageRef = ref(storage, `thumbnails/${uploadedFile.name}`);\n      const uploadTask = uploadBytesResumable(storageRef, uploadedFile);\n      uploadTask.on('state_changed', snapshot => {\n        // Handle progress\n      }, error => {\n        console.error('Error uploading thumbnail:', error);\n      }, () => {\n        getDownloadURL(uploadTask.snapshot.ref).then(downloadURL => {\n          setCourseThumbnailURL(downloadURL); // Assuming you have a state variable to store the thumbnail URL\n        });\n      });\n    } catch (error) {\n      console.error('Error uploading thumbnail:', error);\n    }\n  };\n  const renderStepOne = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Step 1: Course Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleNextStep,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"courseName\",\n          className: \"block font-semibold mb-1\",\n          children: \"Course Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"courseName\",\n          className: \"w-full border border-gray-300 rounded p-2\",\n          value: courseName,\n          onChange: e => setCourseName(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          className: \"block font-semibold mb-1\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"description\",\n          className: \"w-full border border-gray-300 rounded p-2\",\n          value: description,\n          onChange: e => setDescription(e.target.value)\n          // required\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"thumbnail\",\n          className: \"block font-semibold mb-1\",\n          children: \"Course Thumbnail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"thumbnail\",\n          accept: \"image/*\",\n          onChange: e => handleThumbnailUpload(e),\n          className: \"w-full border border-gray-300 rounded p-2\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 289,\n    columnNumber: 5\n  }, this);\n  const renderStepTwo = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Step 2: Add Sub Courses\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this), subCourses.map((subCourse, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: `Sub Course ${index + 1} Name`,\n        className: \"w-full border border-gray-300 rounded p-2 mb-1\",\n        value: subCourse.name,\n        onChange: e => {\n          const updatedSubCourses = [...subCourses];\n          updatedSubCourses[index].name = e.target.value;\n          setSubCourses(updatedSubCourses);\n        },\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: `Sub Course ${index + 1} Description`,\n        className: \"w-full border border-gray-300 rounded p-2 mb-1\",\n        value: subCourse.description,\n        onChange: e => {\n          const updatedSubCourses = [...subCourses];\n          updatedSubCourses[index].description = e.target.value;\n          setSubCourses(updatedSubCourses);\n        },\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }, this), subCourse.additionalContents.map((content, contentIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center mb-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"border border-gray-300 rounded p-2 mr-2\",\n          value: content.type,\n          onChange: e => {\n            const updatedSubCourses = [...subCourses];\n            updatedSubCourses[index].additionalContents[contentIndex].type = e.target.value;\n            setSubCourses(updatedSubCourses);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"assignment\",\n            children: \"Assignment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"notes\",\n            children: \"Notes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"recordings\",\n            children: \"Recordings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"others\",\n            children: \"Others\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 15\n        }, this), content.type === 'assignment' && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          className: \"w-full border border-gray-300 rounded p-2\",\n          onChange: e => handleFileUpload(e, index, contentIndex),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 17\n        }, this), content.type === 'notes' && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          className: \"w-full border border-gray-300 rounded p-2\",\n          onChange: e => handleFileUpload(e, index, contentIndex),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 17\n        }, this), content.type === 'recordings' && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Video URL\",\n          className: \"w-full border border-gray-300 rounded p-2\",\n          value: content.value,\n          onChange: e => {\n            const updatedSubCourses = [...subCourses];\n            updatedSubCourses[index].additionalContents[contentIndex].value = e.target.value;\n            setSubCourses(updatedSubCourses);\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 17\n        }, this), content.type === 'others' && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          className: \"w-full border border-gray-300 rounded p-2\",\n          onChange: e => handleFileUpload(e, index, contentIndex),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => handleRemoveAdditionalContent(index, contentIndex),\n          className: \"ml-2 bg-red-500 text-white px-4 py-1 rounded hover:bg-red-600\",\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 15\n        }, this)]\n      }, contentIndex, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => handleAddAdditionalContent(index),\n        className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-2\",\n        children: \"Add Additional Content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 11\n      }, this), subCourses.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => handleRemoveSubCourse(index),\n        className: \"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",\n        children: \"Remove Sub Course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 37\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handlePreviousStep,\n      className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-2\",\n      children: \"Previous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleNextStep,\n      className: \"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",\n      children: \"Next\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 5\n  }, this);\n  const renderStepThree = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Step 3: Add Topics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 11\n    }, this), subCourses.map((subCourse, subCourseIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-2\",\n        children: [\"Sub Course \", subCourseIndex + 1]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 15\n      }, this), subCourse.topics.map((topic, topicIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: `Topic ${topicIndex + 1} Name`,\n          className: \"w-full border border-gray-300 rounded p-2 mb-1\",\n          value: topic.name,\n          onChange: e => {\n            const updatedSubCourses = [...subCourses];\n            updatedSubCourses[subCourseIndex].topics[topicIndex].name = e.target.value;\n            setSubCourses(updatedSubCourses);\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: topic.source,\n          onChange: e => {\n            const updatedSubCourses = [...subCourses];\n            updatedSubCourses[subCourseIndex].topics[topicIndex].source = e.target.value;\n            setSubCourses(updatedSubCourses);\n          },\n          className: \"border border-gray-300 rounded p-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"file\",\n            children: \"Upload Video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"url\",\n            children: \"Video URL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"both\",\n            children: \"Both\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 19\n        }, this), topic.source === 'file' && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"video/*\",\n          className: \"mb-2\",\n          onChange: e => handleVideoUpload(e, subCourseIndex, topicIndex),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 21\n        }, this), topic.source === 'url' && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Video URL\",\n          className: \"w-full border border-gray-300 rounded p-2\",\n          value: topic.videoUrl,\n          onChange: e => {\n            const updatedSubCourses = [...subCourses];\n            updatedSubCourses[subCourseIndex].topics[topicIndex].videoUrl = e.target.value;\n            setSubCourses(updatedSubCourses);\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 21\n        }, this), topic.source === 'both' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"video/*\",\n            className: \"mb-2\",\n            onChange: e => handleVideoUpload(e, subCourseIndex, topicIndex),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Video URL\",\n            className: \"w-full border border-gray-300 rounded p-2\",\n            value: topic.videoUrl,\n            onChange: e => {\n              const updatedSubCourses = [...subCourses];\n              updatedSubCourses[subCourseIndex].topics[topicIndex].videoUrl = e.target.value;\n              setSubCourses(updatedSubCourses);\n            },\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 21\n        }, this)]\n      }, topicIndex, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 17\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => handleAddTopic(subCourseIndex),\n        className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-2\",\n        children: \"Add Topic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 15\n      }, this), subCourse.topics.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => handleRemoveTopic(subCourseIndex),\n        className: \"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",\n        children: \"Remove Topic\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 47\n      }, this)]\n    }, subCourseIndex, true, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 13\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handlePreviousStep,\n      className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-2\",\n      children: \"Previous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleNextStep,\n      className: \"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",\n      children: \"Next\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 437,\n    columnNumber: 9\n  }, this);\n  const renderStepFour = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Step 4: Confirm and Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-2\",\n        children: \"Course Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Course Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 12\n        }, this), \" \", courseName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 12\n        }, this), \" \", description]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-2\",\n        children: \"Sub Courses and Topics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 9\n      }, this), subCourses.map((subCourse, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-xl font-semibold mb-2\",\n          children: [\"Sub Course \", index + 1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 16\n          }, this), \" \", subCourse.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 16\n          }, this), \" \", subCourse.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Topics:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: subCourse.topics.map((topic, topicIndex) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [topic.name, \" - \", topic.videoUrl ? 'Uploaded' : 'Not Uploaded']\n          }, topicIndex, true, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Additional Contents:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: subCourse.additionalContents.map((content, contentIndex) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [content.type, \" - \", content.value ? 'Uploaded' : 'Not Uploaded']\n          }, contentIndex, true, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAddSubCourse,\n      className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-2\",\n      children: \"Add Sub Course\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handlePreviousStep,\n      className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-2\",\n      children: \"Previous\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      className: \"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 527,\n    columnNumber: 5\n  }, this);\n  const renderAdditionalContent = (subCourseIndex, contentIndex) => {\n    const content = subCourses[subCourseIndex].additionalContents[contentIndex];\n    if (content.type === 'recordings') {\n      return /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Video URL\",\n        className: \"w-full border border-gray-300 rounded p-2\",\n        value: content.value,\n        onChange: e => handleAdditionalContentChange(subCourseIndex, contentIndex, e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        className: \"w-full border border-gray-300 rounded p-2\",\n        onChange: e => handleFileUpload(e, subCourseIndex, contentIndex, false),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  const renderSubCourse = (subCourse, subCourseIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"text-xl font-semibold mb-2\",\n      children: [\"Sub Course \", subCourseIndex + 1]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 10\n      }, this), \" \", subCourse.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 593,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Description:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 10\n      }, this), \" \", subCourse.description]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Topics:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 7\n    }, this), subCourse.topics.map((topic, topicIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2\"\n    }, topicIndex, false, {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Additional Contents:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 7\n    }, this), subCourse.additionalContents.map((content, contentIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center mb-1\"\n    }, contentIndex, false, {\n      fileName: _jsxFileName,\n      lineNumber: 603,\n      columnNumber: 9\n    }, this))]\n  }, subCourseIndex, true, {\n    fileName: _jsxFileName,\n    lineNumber: 591,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-md mx-auto mt-8 p-6 bg-white rounded-lg shadow-lg\",\n    children: [currentStep === 1 && renderStepOne(), currentStep === 2 && renderStepTwo(), currentStep === 3 && renderStepThree(), currentStep === 4 && renderStepFour(), showAlert && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg font-semibold\",\n          children: alertMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAlert(false),\n          className: \"mt-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 618,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 611,\n    columnNumber: 5\n  }, this);\n};\n_s(AddCourseForm, \"tSoKbtUOzpmO6CfCuU3rq5d/Ygs=\");\n_c = AddCourseForm;\nexport default AddCourseForm;\nvar _c;\n$RefreshReg$(_c, \"AddCourseForm\");","map":{"version":3,"names":["React","useState","useEffect","initializeApp","getFirestore","collection","addDoc","getStorage","ref","uploadBytesResumable","getDownloadURL","jsxDEV","_jsxDEV","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","db","storage","AddCourseForm","_s","currentStep","setCurrentStep","courseName","setCourseName","description","setDescription","subCourses","setSubCourses","name","additionalContents","topics","showAlert","setShowAlert","alertMessage","setAlertMessage","uploadProgress","setUploadProgress","isUploading","setIsUploading","courseThumbnailURL","setCourseThumbnailURL","uploading","some","subCourse","content","handleAdditionalContentChange","subCourseIndex","contentIndex","value","prevSubCourses","updatedSubCourses","handleNextStep","handleSubmit","handlePreviousStep","handleAddTopic","push","videoUrl","handleRemoveTopic","topicIndex","splice","handleFileUpload","event","isVideoUpload","uploadedFile","target","files","storagePath","storageRef","uploadTask","on","snapshot","progress","bytesTransferred","totalBytes","error","console","then","downloadURL","type","courseData","formattedSubCourses","map","handleAddSubCourse","handleRemoveSubCourse","index","handleAddAdditionalContent","handleRemoveAdditionalContent","handleVideoUpload","uploadedVideo","renderProgressBar","className","children","style","width","fileName","_jsxFileName","lineNumber","columnNumber","handleThumbnailUpload","renderStepOne","onSubmit","htmlFor","id","onChange","e","required","accept","renderStepTwo","placeholder","onClick","length","renderStepThree","topic","source","renderStepFour","renderAdditionalContent","renderSubCourse","_c","$RefreshReg$"],"sources":["C:/Markatlas/test/Aitgiant-Test-Admin/src/components/AddCourseForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getFirestore, collection, addDoc } from 'firebase/firestore';\r\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL } from 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA4qjcP40hgzx-gWKqVB6c9h9OKpecZobw\",\r\n  authDomain: \"lms-1-36b1f.firebaseapp.com\",\r\n  projectId: \"lms-1-36b1f\",\r\n  storageBucket: \"lms-1-36b1f.appspot.com\",\r\n  messagingSenderId: \"568729903010\",\r\n  appId: \"1:568729903010:web:5e85a998503b1054f9dcfb\",\r\n  measurementId: \"G-Z5844EFCH1\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst db = getFirestore(app);\r\nconst storage = getStorage(app);\r\n\r\nconst AddCourseForm = () => {\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [courseName, setCourseName] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [subCourses, setSubCourses] = useState([{ name: '', description: '', additionalContents: [], topics: [] }]);\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  const [alertMessage, setAlertMessage] = useState('');\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [courseThumbnailURL, setCourseThumbnailURL] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Check if any file is being uploaded\r\n    const uploading = subCourses.some(subCourse =>\r\n      subCourse.additionalContents.some(content => content.uploading)\r\n    );\r\n    setIsUploading(uploading);\r\n  }, [subCourses]);\r\n\r\n  const handleAdditionalContentChange = (subCourseIndex, contentIndex, value) => {\r\n    setSubCourses(prevSubCourses => {\r\n      const updatedSubCourses = [...prevSubCourses];\r\n      updatedSubCourses[subCourseIndex].additionalContents[contentIndex].value = value;\r\n      return updatedSubCourses;\r\n    });\r\n  };\r\n\r\n  const handleNextStep = () => {\r\n    if (currentStep < 4) setCurrentStep(currentStep + 1);\r\n    else handleSubmit();\r\n  };\r\n\r\n  const handlePreviousStep = () => {\r\n    setCurrentStep(currentStep - 1);\r\n  };\r\n\r\n  const handleAddTopic = (subCourseIndex) => {\r\n    const updatedSubCourses = [...subCourses];\r\n    updatedSubCourses[subCourseIndex].topics.push({ name: '', videoUrl: '' });\r\n    setSubCourses(updatedSubCourses);\r\n  };\r\n\r\n  const handleRemoveTopic = (subCourseIndex, topicIndex) => {\r\n    const updatedSubCourses = [...subCourses];\r\n    updatedSubCourses[subCourseIndex].topics.splice(topicIndex, 1);\r\n    setSubCourses(updatedSubCourses);\r\n  };\r\n\r\n  \r\n\r\n  const handleFileUpload = async (event, subCourseIndex, contentIndex, isVideoUpload) => {\r\n    try {\r\n      const uploadedFile = event.target.files[0];\r\n      let storagePath = '';\r\n      \r\n      // Determine storage path based on whether it's a video upload or additional content upload\r\n      if (isVideoUpload) {\r\n        storagePath = `videos/${uploadedFile.name}`;\r\n      } else {\r\n        storagePath = `additional/${uploadedFile.name}`;\r\n      }\r\n  \r\n      const storageRef = ref(storage, storagePath);\r\n      const uploadTask = uploadBytesResumable(storageRef, uploadedFile);\r\n\r\n      uploadTask.on('state_changed',\r\n        (snapshot) => {\r\n          const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n          setUploadProgress(progress);\r\n        },\r\n        (error) => {\r\n          console.error('Error uploading file:', error);\r\n        },\r\n        () => {\r\n          getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n            setSubCourses(prevSubCourses => {\r\n              const updatedSubCourses = [...prevSubCourses];\r\n              if (isVideoUpload) {\r\n                updatedSubCourses[subCourseIndex].topics[contentIndex].videoUrl = downloadURL;\r\n              } else {\r\n                if (!updatedSubCourses[subCourseIndex].additionalContents[contentIndex]) {\r\n                  updatedSubCourses[subCourseIndex].additionalContents[contentIndex] = { type: '', value: '' };\r\n                }\r\n                updatedSubCourses[subCourseIndex].additionalContents[contentIndex].value = downloadURL;\r\n              }\r\n              return updatedSubCourses;\r\n            });\r\n          });\r\n        }\r\n      );\r\n    } catch (error) {\r\n      console.error('Error uploading file:', error);\r\n    }\r\n  };\r\n  \r\n  \r\n  // const handleSubmit = async () => {\r\n  //   try {\r\n  //     // Check if any file is still uploading\r\n  //     if (isUploading) {\r\n  //       setAlertMessage('Please wait for all files to finish uploading.');\r\n  //       setShowAlert(true);\r\n  //       return;\r\n  //     }\r\n  \r\n  //     const courseData = {\r\n  //       courseName,\r\n  //       description,\r\n  //       courseThumbnailURL, // Add course thumbnail URL here\r\n  //       subCourses\r\n  //     };\r\n  \r\n  //     // Map over subCourses to include additionalContents\r\n  //     const formattedSubCourses = subCourses.map(subCourse => ({\r\n  //       ...subCourse,\r\n  //       additionalContents: subCourse.additionalContents.map(content => ({\r\n  //         type: content.type,\r\n  //         value: content.value // URL fetched from storage\r\n  //       }))\r\n  //     }));\r\n  \r\n  //     courseData.subCourses = formattedSubCourses;\r\n  \r\n  //     await addDoc(collection(db, 'courses'), courseData);\r\n  \r\n  //     setAlertMessage('Course added successfully');\r\n  //     setShowAlert(true);\r\n  \r\n  //     setCourseName('');\r\n  //     setDescription('');\r\n  //     setCourseThumbnailURL(''); // Reset course thumbnail URL\r\n  //     setSubCourses([{ name: '', description: '', additionalContents: [], topics: [] }]);\r\n  //     setCurrentStep(1);\r\n  //   } catch (error) {\r\n  //     setAlertMessage('Error adding course. Please try again.');\r\n  //     setShowAlert(true);\r\n  //     console.error('Error adding course:', error);\r\n  //   }\r\n  // };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      // Check if any file is still uploading\r\n      if (isUploading) {\r\n        setAlertMessage('Please wait for all files to finish uploading.');\r\n        setShowAlert(true);\r\n        return;\r\n      }\r\n  \r\n      const courseData = {\r\n        courseName,\r\n        description,\r\n        courseThumbnailURL, // Add course thumbnail URL here\r\n        subCourses\r\n      };\r\n  \r\n      // Map over subCourses to include additionalContents\r\n      const formattedSubCourses = subCourses.map(subCourse => ({\r\n        ...subCourse,\r\n        additionalContents: subCourse.additionalContents.map(content => ({\r\n          type: content.type,\r\n          value: content.value // URL fetched from storage\r\n        }))\r\n      }));\r\n  \r\n      courseData.subCourses = formattedSubCourses;\r\n  \r\n      await addDoc(collection(db, 'courses'), courseData);\r\n  \r\n      setAlertMessage('Course added successfully');\r\n      setShowAlert(true);\r\n  \r\n      setCourseName('');\r\n      setDescription('');\r\n      setCourseThumbnailURL(''); // Reset course thumbnail URL\r\n      setSubCourses([{ name: '', description: '', additionalContents: [], topics: [] }]);\r\n      setCurrentStep(1);\r\n    } catch (error) {\r\n      setAlertMessage('Error adding course. Please try again.');\r\n      setShowAlert(true);\r\n      console.error('Error adding course:', error);\r\n    }\r\n  };\r\n  \r\n  \r\n\r\n  const handleAddSubCourse = () => {\r\n    setSubCourses([...subCourses, { name: '', description: '', additionalContents: [], topics: [] }]);\r\n    setCurrentStep(2); // Redirect to Step 2\r\n  };\r\n\r\n  const handleRemoveSubCourse = (index) => {\r\n    const updatedSubCourses = [...subCourses];\r\n    updatedSubCourses.splice(index, 1);\r\n    setSubCourses(updatedSubCourses);\r\n  };\r\n\r\n  const handleAddAdditionalContent = (subCourseIndex) => {\r\n    const updatedSubCourses = [...subCourses];\r\n    updatedSubCourses[subCourseIndex].additionalContents.push({ type: '', value: '' });\r\n    setSubCourses(updatedSubCourses);\r\n  };\r\n\r\n  const handleRemoveAdditionalContent = (subCourseIndex, contentIndex) => {\r\n    const updatedSubCourses = [...subCourses];\r\n    updatedSubCourses[subCourseIndex].additionalContents.splice(contentIndex, 1);\r\n    setSubCourses(updatedSubCourses);\r\n  };\r\n\r\n  const handleVideoUpload = async (event, subCourseIndex, topicIndex) => {\r\n    try {\r\n      const uploadedVideo = event.target.files[0];\r\n      const storageRef = ref(storage, `videos/${uploadedVideo.name}`);\r\n      const uploadTask = uploadBytesResumable(storageRef, uploadedVideo);\r\n  \r\n      uploadTask.on('state_changed',\r\n        (snapshot) => {\r\n          // Handle progress\r\n        },\r\n        (error) => {\r\n          console.error('Error uploading video:', error);\r\n        },\r\n        () => {\r\n          getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n            setSubCourses(prevSubCourses => {\r\n              const updatedSubCourses = [...prevSubCourses];\r\n              updatedSubCourses[subCourseIndex].topics[topicIndex].videoUrl = downloadURL;\r\n              return updatedSubCourses;\r\n            });\r\n          });\r\n        }\r\n      );\r\n    } catch (error) {\r\n      console.error('Error uploading video:', error);\r\n    }\r\n  };\r\n  const renderProgressBar = () => {\r\n    return (\r\n      <div className=\"w-full bg-gray-200 h-4 rounded\">\r\n        <div className=\"bg-green-500 h-full rounded\" style={{ width: `${uploadProgress}%` }}></div>\r\n      </div>\r\n    );\r\n  };\r\n  const handleThumbnailUpload = async (event) => {\r\n    try {\r\n      const uploadedFile = event.target.files[0];\r\n      const storageRef = ref(storage, `thumbnails/${uploadedFile.name}`);\r\n      const uploadTask = uploadBytesResumable(storageRef, uploadedFile);\r\n  \r\n      uploadTask.on('state_changed',\r\n        (snapshot) => {\r\n          // Handle progress\r\n        },\r\n        (error) => {\r\n          console.error('Error uploading thumbnail:', error);\r\n        },\r\n        () => {\r\n          getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n            setCourseThumbnailURL(downloadURL); // Assuming you have a state variable to store the thumbnail URL\r\n          });\r\n        }\r\n      );\r\n    } catch (error) {\r\n      console.error('Error uploading thumbnail:', error);\r\n    }\r\n  };\r\n  \r\n\r\n  const renderStepOne = () => (\r\n    <div>\r\n      <h2 className=\"text-2xl font-bold mb-4\">Step 1: Course Details</h2>\r\n      <form onSubmit={handleNextStep}>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"courseName\" className=\"block font-semibold mb-1\">Course Name</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"courseName\"\r\n            className=\"w-full border border-gray-300 rounded p-2\"\r\n            value={courseName}\r\n            onChange={(e) => setCourseName(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"description\" className=\"block font-semibold mb-1\">Description</label>\r\n          <textarea\r\n            id=\"description\"\r\n            className=\"w-full border border-gray-300 rounded p-2\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n            // required\r\n          />\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"thumbnail\" className=\"block font-semibold mb-1\">Course Thumbnail</label>\r\n          <input\r\n            type=\"file\"\r\n            id=\"thumbnail\"\r\n            accept=\"image/*\"\r\n            onChange={(e) => handleThumbnailUpload(e)}\r\n            className=\"w-full border border-gray-300 rounded p-2\"\r\n            required\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\">Next</button>\r\n      </form>\r\n    </div>\r\n  );\r\n  \r\n\r\n  const renderStepTwo = () => (\r\n    <div>\r\n      <h2 className=\"text-2xl font-bold mb-4\">Step 2: Add Sub Courses</h2>\r\n      {subCourses.map((subCourse, index) => (\r\n        <div key={index} className=\"mb-4\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder={`Sub Course ${index + 1} Name`}\r\n            className=\"w-full border border-gray-300 rounded p-2 mb-1\"\r\n            value={subCourse.name}\r\n            onChange={(e) => {\r\n              const updatedSubCourses = [...subCourses];\r\n              updatedSubCourses[index].name = e.target.value;\r\n              setSubCourses(updatedSubCourses);\r\n            }}\r\n            required\r\n          />\r\n          <textarea\r\n            placeholder={`Sub Course ${index + 1} Description`}\r\n            className=\"w-full border border-gray-300 rounded p-2 mb-1\"\r\n            value={subCourse.description}\r\n            onChange={(e) => {\r\n              const updatedSubCourses = [...subCourses];\r\n              updatedSubCourses[index].description = e.target.value;\r\n              setSubCourses(updatedSubCourses);\r\n            }}\r\n            required\r\n          />\r\n          {subCourse.additionalContents.map((content, contentIndex) => (\r\n            <div key={contentIndex} className=\"flex items-center mb-1\">\r\n              <select\r\n                className=\"border border-gray-300 rounded p-2 mr-2\"\r\n                value={content.type}\r\n                onChange={(e) => {\r\n                  const updatedSubCourses = [...subCourses];\r\n                  updatedSubCourses[index].additionalContents[contentIndex].type = e.target.value;\r\n                  setSubCourses(updatedSubCourses);\r\n                }}\r\n              >\r\n                <option value=\"assignment\">Assignment</option>\r\n                <option value=\"notes\">Notes</option>\r\n                <option value=\"recordings\">Recordings</option>\r\n                <option value=\"others\">Others</option>\r\n              </select>\r\n              {content.type === 'assignment' && (\r\n                <input\r\n                  type=\"file\"\r\n                  className=\"w-full border border-gray-300 rounded p-2\"\r\n                  onChange={(e) => handleFileUpload(e, index, contentIndex)}\r\n                  required\r\n                />\r\n              )}\r\n              {content.type === 'notes' && (\r\n                <input\r\n                  type=\"file\"\r\n                  className=\"w-full border border-gray-300 rounded p-2\"\r\n                  onChange={(e) => handleFileUpload(e, index, contentIndex)}\r\n                  required\r\n                />\r\n              )}\r\n              {content.type === 'recordings' && (\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Video URL\"\r\n                  className=\"w-full border border-gray-300 rounded p-2\"\r\n                  value={content.value}\r\n                  onChange={(e) => {\r\n                    const updatedSubCourses = [...subCourses];\r\n                    updatedSubCourses[index].additionalContents[contentIndex].value = e.target.value;\r\n                    setSubCourses(updatedSubCourses);\r\n                  }}\r\n                  required\r\n                />\r\n              )}\r\n              {content.type === 'others' && (\r\n                <input\r\n                  type=\"file\"\r\n                  className=\"w-full border border-gray-300 rounded p-2\"\r\n                  onChange={(e) => handleFileUpload(e, index, contentIndex)}\r\n                  required\r\n                />\r\n              )}\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => handleRemoveAdditionalContent(index, contentIndex)}\r\n                className=\"ml-2 bg-red-500 text-white px-4 py-1 rounded hover:bg-red-600\"\r\n              >\r\n                Remove\r\n              </button>\r\n            </div>\r\n          ))}\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => handleAddAdditionalContent(index)}\r\n            className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-2\"\r\n          >\r\n            Add Additional Content\r\n          </button>\r\n          {subCourses.length > 1 && <button type=\"button\" onClick={() => handleRemoveSubCourse(index)} className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\">Remove Sub Course</button>}\r\n        </div>\r\n      ))}\r\n      <button onClick={handlePreviousStep} className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-2\">Previous</button>\r\n      <button onClick={handleNextStep} className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\">Next</button>\r\n    </div>\r\n  );\r\n\r\n  const renderStepThree = () => (\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold mb-4\">Step 3: Add Topics</h2>\r\n          {subCourses.map((subCourse, subCourseIndex) => (\r\n            <div key={subCourseIndex} className=\"mb-4\">\r\n              <h3 className=\"text-lg font-semibold mb-2\">Sub Course {subCourseIndex + 1}</h3>\r\n              {subCourse.topics.map((topic, topicIndex) => (\r\n                <div key={topicIndex} className=\"mb-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder={`Topic ${topicIndex + 1} Name`}\r\n                    className=\"w-full border border-gray-300 rounded p-2 mb-1\"\r\n                    value={topic.name}\r\n                    onChange={(e) => {\r\n                      const updatedSubCourses = [...subCourses];\r\n                      updatedSubCourses[subCourseIndex].topics[topicIndex].name = e.target.value;\r\n                      setSubCourses(updatedSubCourses);\r\n                    }}\r\n                    required\r\n                  />\r\n                  <select\r\n                    value={topic.source}\r\n                    onChange={(e) => {\r\n                      const updatedSubCourses = [...subCourses];\r\n                      updatedSubCourses[subCourseIndex].topics[topicIndex].source = e.target.value;\r\n                      setSubCourses(updatedSubCourses);\r\n                    }}\r\n                    className=\"border border-gray-300 rounded p-2 mb-2\"\r\n                  >\r\n                    <option value=\"file\">Upload Video</option>\r\n                    <option value=\"url\">Video URL</option>\r\n                    <option value=\"both\">Both</option>\r\n                  </select>\r\n                  {topic.source === 'file' && (\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"video/*\"\r\n                      className=\"mb-2\"\r\n                      onChange={(e) => handleVideoUpload(e, subCourseIndex, topicIndex)}\r\n                      required\r\n                    />\r\n                  )}\r\n                  {topic.source === 'url' && (\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"Video URL\"\r\n                      className=\"w-full border border-gray-300 rounded p-2\"\r\n                      value={topic.videoUrl}\r\n                      onChange={(e) => {\r\n                        const updatedSubCourses = [...subCourses];\r\n                        updatedSubCourses[subCourseIndex].topics[topicIndex].videoUrl = e.target.value;\r\n                        setSubCourses(updatedSubCourses);\r\n                      }}\r\n                      required\r\n                    />\r\n                  )}\r\n                  {topic.source === 'both' && (\r\n                    <div>\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"video/*\"\r\n                        className=\"mb-2\"\r\n                        onChange={(e) => handleVideoUpload(e, subCourseIndex, topicIndex)}\r\n                        required\r\n                      />\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Video URL\"\r\n                        className=\"w-full border border-gray-300 rounded p-2\"\r\n                        value={topic.videoUrl}\r\n                        onChange={(e) => {\r\n                          const updatedSubCourses = [...subCourses];\r\n                          updatedSubCourses[subCourseIndex].topics[topicIndex].videoUrl = e.target.value;\r\n                          setSubCourses(updatedSubCourses);\r\n                        }}\r\n                        required\r\n                      />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n              <button type=\"button\" onClick={() => handleAddTopic(subCourseIndex)} className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-2\">Add Topic</button>\r\n              {subCourse.topics.length > 1 && <button type=\"button\" onClick={() => handleRemoveTopic(subCourseIndex)} className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\">Remove Topic</button>}\r\n            </div>\r\n          ))}\r\n          <button onClick={handlePreviousStep} className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-2\">Previous</button>\r\n          <button onClick={handleNextStep} className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\">Next</button>\r\n        </div>\r\n      );\r\n\r\n  const renderStepFour = () => (\r\n    <div>\r\n      <h2 className=\"text-2xl font-bold mb-4\">Step 4: Confirm and Submit</h2>\r\n      <div className=\"mb-4\">\r\n        <h3 className=\"text-lg font-semibold mb-2\">Course Details</h3>\r\n        <p><strong>Course Name:</strong> {courseName}</p>\r\n        <p><strong>Description:</strong> {description}</p>\r\n      </div>\r\n      <div>\r\n        <h3 className=\"text-lg font-semibold mb-2\">Sub Courses and Topics</h3>\r\n        {subCourses.map((subCourse, index) => (\r\n          <div key={index} className=\"mb-4\">\r\n            <h4 className=\"text-xl font-semibold mb-2\">Sub Course {index + 1}</h4>\r\n            <p><strong>Name:</strong> {subCourse.name}</p>\r\n            <p><strong>Description:</strong> {subCourse.description}</p>\r\n            <p><strong>Topics:</strong></p>\r\n            <ul>\r\n              {subCourse.topics.map((topic, topicIndex) => (\r\n                <li key={topicIndex}>\r\n                  {topic.name} - {topic.videoUrl ? 'Uploaded' : 'Not Uploaded'}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <p><strong>Additional Contents:</strong></p>\r\n            <ul>\r\n              {subCourse.additionalContents.map((content, contentIndex) => (\r\n                <li key={contentIndex}>\r\n                  {content.type} - {content.value ? 'Uploaded' : 'Not Uploaded'}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <button onClick={handleAddSubCourse} className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-2\">Add Sub Course</button>\r\n    <button onClick={handlePreviousStep} className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 mr-2\">Previous</button>\r\n       <button onClick={handleSubmit} className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\">Submit</button>\r\n    </div>\r\n  );\r\n  const renderAdditionalContent = (subCourseIndex, contentIndex) => {\r\n    const content = subCourses[subCourseIndex].additionalContents[contentIndex];\r\n    if (content.type === 'recordings') {\r\n      return (\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Video URL\"\r\n          className=\"w-full border border-gray-300 rounded p-2\"\r\n          value={content.value}\r\n          onChange={(e) => handleAdditionalContentChange(subCourseIndex, contentIndex, e.target.value)}\r\n          required\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <input\r\n          type=\"file\"\r\n          className=\"w-full border border-gray-300 rounded p-2\"\r\n          onChange={(e) => handleFileUpload(e, subCourseIndex, contentIndex, false)}\r\n          required\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderSubCourse = (subCourse, subCourseIndex) => (\r\n    <div key={subCourseIndex} className=\"mb-4\">\r\n      <h4 className=\"text-xl font-semibold mb-2\">Sub Course {subCourseIndex + 1}</h4>\r\n      <p><strong>Name:</strong> {subCourse.name}</p>\r\n      <p><strong>Description:</strong> {subCourse.description}</p>\r\n      <p><strong>Topics:</strong></p>\r\n      {subCourse.topics.map((topic, topicIndex) => (\r\n        <div key={topicIndex} className=\"mb-2\">\r\n          {/* Render topic details */}\r\n        </div>\r\n      ))}\r\n      <p><strong>Additional Contents:</strong></p>\r\n      {subCourse.additionalContents.map((content, contentIndex) => (\r\n        <div key={contentIndex} className=\"flex items-center mb-1\">\r\n          {/* Render additional content */}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto mt-8 p-6 bg-white rounded-lg shadow-lg\">\r\n      {currentStep === 1 && renderStepOne()}\r\n      {currentStep === 2 && renderStepTwo()}\r\n      {currentStep === 3 && renderStepThree()}\r\n      {currentStep === 4 && renderStepFour()}\r\n      {showAlert && (\r\n        <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\">\r\n          <div className=\"bg-white rounded-lg p-4\">\r\n            <p className=\"text-lg font-semibold\">{alertMessage}</p>\r\n            <button onClick={() => setShowAlert(false)} className=\"mt-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\">Close</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddCourseForm;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,aAAa,QAAQ,cAAc;AAC5C,SAASC,YAAY,EAAEC,UAAU,EAAEC,MAAM,QAAQ,oBAAoB;AACrE,SAASC,UAAU,EAAEC,GAAG,EAAEC,oBAAoB,EAAEC,cAAc,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzF,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,yCAAyC;EACjDC,UAAU,EAAE,6BAA6B;EACzCC,SAAS,EAAE,aAAa;EACxBC,aAAa,EAAE,yBAAyB;EACxCC,iBAAiB,EAAE,cAAc;EACjCC,KAAK,EAAE,2CAA2C;EAClDC,aAAa,EAAE;AACjB,CAAC;AAED,MAAMC,GAAG,GAAGlB,aAAa,CAACU,cAAc,CAAC;AACzC,MAAMS,EAAE,GAAGlB,YAAY,CAACiB,GAAG,CAAC;AAC5B,MAAME,OAAO,GAAGhB,UAAU,CAACc,GAAG,CAAC;AAE/B,MAAMG,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG1B,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAAC2B,UAAU,EAAEC,aAAa,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC6B,WAAW,EAAEC,cAAc,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC+B,UAAU,EAAEC,aAAa,CAAC,GAAGhC,QAAQ,CAAC,CAAC;IAAEiC,IAAI,EAAE,EAAE;IAAEJ,WAAW,EAAE,EAAE;IAAEK,kBAAkB,EAAE,EAAE;IAAEC,MAAM,EAAE;EAAG,CAAC,CAAC,CAAC;EACjH,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGrC,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACsC,YAAY,EAAEC,eAAe,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACwC,cAAc,EAAEC,iBAAiB,CAAC,GAAGzC,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAM,CAAC0C,WAAW,EAAEC,cAAc,CAAC,GAAG3C,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAAC4C,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG7C,QAAQ,CAAC,EAAE,CAAC;EAEhEC,SAAS,CAAC,MAAM;IACd;IACA,MAAM6C,SAAS,GAAGf,UAAU,CAACgB,IAAI,CAACC,SAAS,IACzCA,SAAS,CAACd,kBAAkB,CAACa,IAAI,CAACE,OAAO,IAAIA,OAAO,CAACH,SAAS,CAChE,CAAC;IACDH,cAAc,CAACG,SAAS,CAAC;EAC3B,CAAC,EAAE,CAACf,UAAU,CAAC,CAAC;EAEhB,MAAMmB,6BAA6B,GAAGA,CAACC,cAAc,EAAEC,YAAY,EAAEC,KAAK,KAAK;IAC7ErB,aAAa,CAACsB,cAAc,IAAI;MAC9B,MAAMC,iBAAiB,GAAG,CAAC,GAAGD,cAAc,CAAC;MAC7CC,iBAAiB,CAACJ,cAAc,CAAC,CAACjB,kBAAkB,CAACkB,YAAY,CAAC,CAACC,KAAK,GAAGA,KAAK;MAChF,OAAOE,iBAAiB;IAC1B,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAI/B,WAAW,GAAG,CAAC,EAAEC,cAAc,CAACD,WAAW,GAAG,CAAC,CAAC,CAAC,KAChDgC,YAAY,CAAC,CAAC;EACrB,CAAC;EAED,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;IAC/BhC,cAAc,CAACD,WAAW,GAAG,CAAC,CAAC;EACjC,CAAC;EAED,MAAMkC,cAAc,GAAIR,cAAc,IAAK;IACzC,MAAMI,iBAAiB,GAAG,CAAC,GAAGxB,UAAU,CAAC;IACzCwB,iBAAiB,CAACJ,cAAc,CAAC,CAAChB,MAAM,CAACyB,IAAI,CAAC;MAAE3B,IAAI,EAAE,EAAE;MAAE4B,QAAQ,EAAE;IAAG,CAAC,CAAC;IACzE7B,aAAa,CAACuB,iBAAiB,CAAC;EAClC,CAAC;EAED,MAAMO,iBAAiB,GAAGA,CAACX,cAAc,EAAEY,UAAU,KAAK;IACxD,MAAMR,iBAAiB,GAAG,CAAC,GAAGxB,UAAU,CAAC;IACzCwB,iBAAiB,CAACJ,cAAc,CAAC,CAAChB,MAAM,CAAC6B,MAAM,CAACD,UAAU,EAAE,CAAC,CAAC;IAC9D/B,aAAa,CAACuB,iBAAiB,CAAC;EAClC,CAAC;EAID,MAAMU,gBAAgB,GAAG,MAAAA,CAAOC,KAAK,EAAEf,cAAc,EAAEC,YAAY,EAAEe,aAAa,KAAK;IACrF,IAAI;MACF,MAAMC,YAAY,GAAGF,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC1C,IAAIC,WAAW,GAAG,EAAE;;MAEpB;MACA,IAAIJ,aAAa,EAAE;QACjBI,WAAW,GAAI,UAASH,YAAY,CAACnC,IAAK,EAAC;MAC7C,CAAC,MAAM;QACLsC,WAAW,GAAI,cAAaH,YAAY,CAACnC,IAAK,EAAC;MACjD;MAEA,MAAMuC,UAAU,GAAGjE,GAAG,CAACe,OAAO,EAAEiD,WAAW,CAAC;MAC5C,MAAME,UAAU,GAAGjE,oBAAoB,CAACgE,UAAU,EAAEJ,YAAY,CAAC;MAEjEK,UAAU,CAACC,EAAE,CAAC,eAAe,EAC1BC,QAAQ,IAAK;QACZ,MAAMC,QAAQ,GAAID,QAAQ,CAACE,gBAAgB,GAAGF,QAAQ,CAACG,UAAU,GAAI,GAAG;QACxErC,iBAAiB,CAACmC,QAAQ,CAAC;MAC7B,CAAC,EACAG,KAAK,IAAK;QACTC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C,CAAC,EACD,MAAM;QACJtE,cAAc,CAACgE,UAAU,CAACE,QAAQ,CAACpE,GAAG,CAAC,CAAC0E,IAAI,CAAEC,WAAW,IAAK;UAC5DlD,aAAa,CAACsB,cAAc,IAAI;YAC9B,MAAMC,iBAAiB,GAAG,CAAC,GAAGD,cAAc,CAAC;YAC7C,IAAIa,aAAa,EAAE;cACjBZ,iBAAiB,CAACJ,cAAc,CAAC,CAAChB,MAAM,CAACiB,YAAY,CAAC,CAACS,QAAQ,GAAGqB,WAAW;YAC/E,CAAC,MAAM;cACL,IAAI,CAAC3B,iBAAiB,CAACJ,cAAc,CAAC,CAACjB,kBAAkB,CAACkB,YAAY,CAAC,EAAE;gBACvEG,iBAAiB,CAACJ,cAAc,CAAC,CAACjB,kBAAkB,CAACkB,YAAY,CAAC,GAAG;kBAAE+B,IAAI,EAAE,EAAE;kBAAE9B,KAAK,EAAE;gBAAG,CAAC;cAC9F;cACAE,iBAAiB,CAACJ,cAAc,CAAC,CAACjB,kBAAkB,CAACkB,YAAY,CAAC,CAACC,KAAK,GAAG6B,WAAW;YACxF;YACA,OAAO3B,iBAAiB;UAC1B,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CACF,CAAC;IACH,CAAC,CAAC,OAAOwB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC/C;EACF,CAAC;;EAGD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;;EAEA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMtB,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF;MACA,IAAIf,WAAW,EAAE;QACfH,eAAe,CAAC,gDAAgD,CAAC;QACjEF,YAAY,CAAC,IAAI,CAAC;QAClB;MACF;MAEA,MAAM+C,UAAU,GAAG;QACjBzD,UAAU;QACVE,WAAW;QACXe,kBAAkB;QAAE;QACpBb;MACF,CAAC;;MAED;MACA,MAAMsD,mBAAmB,GAAGtD,UAAU,CAACuD,GAAG,CAACtC,SAAS,KAAK;QACvD,GAAGA,SAAS;QACZd,kBAAkB,EAAEc,SAAS,CAACd,kBAAkB,CAACoD,GAAG,CAACrC,OAAO,KAAK;UAC/DkC,IAAI,EAAElC,OAAO,CAACkC,IAAI;UAClB9B,KAAK,EAAEJ,OAAO,CAACI,KAAK,CAAC;QACvB,CAAC,CAAC;MACJ,CAAC,CAAC,CAAC;MAEH+B,UAAU,CAACrD,UAAU,GAAGsD,mBAAmB;MAE3C,MAAMhF,MAAM,CAACD,UAAU,CAACiB,EAAE,EAAE,SAAS,CAAC,EAAE+D,UAAU,CAAC;MAEnD7C,eAAe,CAAC,2BAA2B,CAAC;MAC5CF,YAAY,CAAC,IAAI,CAAC;MAElBT,aAAa,CAAC,EAAE,CAAC;MACjBE,cAAc,CAAC,EAAE,CAAC;MAClBe,qBAAqB,CAAC,EAAE,CAAC,CAAC,CAAC;MAC3Bb,aAAa,CAAC,CAAC;QAAEC,IAAI,EAAE,EAAE;QAAEJ,WAAW,EAAE,EAAE;QAAEK,kBAAkB,EAAE,EAAE;QAAEC,MAAM,EAAE;MAAG,CAAC,CAAC,CAAC;MAClFT,cAAc,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC,OAAOqD,KAAK,EAAE;MACdxC,eAAe,CAAC,wCAAwC,CAAC;MACzDF,YAAY,CAAC,IAAI,CAAC;MAClB2C,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC9C;EACF,CAAC;EAID,MAAMQ,kBAAkB,GAAGA,CAAA,KAAM;IAC/BvD,aAAa,CAAC,CAAC,GAAGD,UAAU,EAAE;MAAEE,IAAI,EAAE,EAAE;MAAEJ,WAAW,EAAE,EAAE;MAAEK,kBAAkB,EAAE,EAAE;MAAEC,MAAM,EAAE;IAAG,CAAC,CAAC,CAAC;IACjGT,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC;EAED,MAAM8D,qBAAqB,GAAIC,KAAK,IAAK;IACvC,MAAMlC,iBAAiB,GAAG,CAAC,GAAGxB,UAAU,CAAC;IACzCwB,iBAAiB,CAACS,MAAM,CAACyB,KAAK,EAAE,CAAC,CAAC;IAClCzD,aAAa,CAACuB,iBAAiB,CAAC;EAClC,CAAC;EAED,MAAMmC,0BAA0B,GAAIvC,cAAc,IAAK;IACrD,MAAMI,iBAAiB,GAAG,CAAC,GAAGxB,UAAU,CAAC;IACzCwB,iBAAiB,CAACJ,cAAc,CAAC,CAACjB,kBAAkB,CAAC0B,IAAI,CAAC;MAAEuB,IAAI,EAAE,EAAE;MAAE9B,KAAK,EAAE;IAAG,CAAC,CAAC;IAClFrB,aAAa,CAACuB,iBAAiB,CAAC;EAClC,CAAC;EAED,MAAMoC,6BAA6B,GAAGA,CAACxC,cAAc,EAAEC,YAAY,KAAK;IACtE,MAAMG,iBAAiB,GAAG,CAAC,GAAGxB,UAAU,CAAC;IACzCwB,iBAAiB,CAACJ,cAAc,CAAC,CAACjB,kBAAkB,CAAC8B,MAAM,CAACZ,YAAY,EAAE,CAAC,CAAC;IAC5EpB,aAAa,CAACuB,iBAAiB,CAAC;EAClC,CAAC;EAED,MAAMqC,iBAAiB,GAAG,MAAAA,CAAO1B,KAAK,EAAEf,cAAc,EAAEY,UAAU,KAAK;IACrE,IAAI;MACF,MAAM8B,aAAa,GAAG3B,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC3C,MAAME,UAAU,GAAGjE,GAAG,CAACe,OAAO,EAAG,UAASuE,aAAa,CAAC5D,IAAK,EAAC,CAAC;MAC/D,MAAMwC,UAAU,GAAGjE,oBAAoB,CAACgE,UAAU,EAAEqB,aAAa,CAAC;MAElEpB,UAAU,CAACC,EAAE,CAAC,eAAe,EAC1BC,QAAQ,IAAK;QACZ;MAAA,CACD,EACAI,KAAK,IAAK;QACTC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD,CAAC,EACD,MAAM;QACJtE,cAAc,CAACgE,UAAU,CAACE,QAAQ,CAACpE,GAAG,CAAC,CAAC0E,IAAI,CAAEC,WAAW,IAAK;UAC5DlD,aAAa,CAACsB,cAAc,IAAI;YAC9B,MAAMC,iBAAiB,GAAG,CAAC,GAAGD,cAAc,CAAC;YAC7CC,iBAAiB,CAACJ,cAAc,CAAC,CAAChB,MAAM,CAAC4B,UAAU,CAAC,CAACF,QAAQ,GAAGqB,WAAW;YAC3E,OAAO3B,iBAAiB;UAC1B,CAAC,CAAC;QACJ,CAAC,CAAC;MACJ,CACF,CAAC;IACH,CAAC,CAAC,OAAOwB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD;EACF,CAAC;EACD,MAAMe,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,oBACEnF,OAAA;MAAKoF,SAAS,EAAC,gCAAgC;MAAAC,QAAA,eAC7CrF,OAAA;QAAKoF,SAAS,EAAC,6BAA6B;QAACE,KAAK,EAAE;UAAEC,KAAK,EAAG,GAAE1D,cAAe;QAAG;MAAE;QAAA2D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxF,CAAC;EAEV,CAAC;EACD,MAAMC,qBAAqB,GAAG,MAAOrC,KAAK,IAAK;IAC7C,IAAI;MACF,MAAME,YAAY,GAAGF,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MAC1C,MAAME,UAAU,GAAGjE,GAAG,CAACe,OAAO,EAAG,cAAa8C,YAAY,CAACnC,IAAK,EAAC,CAAC;MAClE,MAAMwC,UAAU,GAAGjE,oBAAoB,CAACgE,UAAU,EAAEJ,YAAY,CAAC;MAEjEK,UAAU,CAACC,EAAE,CAAC,eAAe,EAC1BC,QAAQ,IAAK;QACZ;MAAA,CACD,EACAI,KAAK,IAAK;QACTC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD,CAAC,EACD,MAAM;QACJtE,cAAc,CAACgE,UAAU,CAACE,QAAQ,CAACpE,GAAG,CAAC,CAAC0E,IAAI,CAAEC,WAAW,IAAK;UAC5DrC,qBAAqB,CAACqC,WAAW,CAAC,CAAC,CAAC;QACtC,CAAC,CAAC;MACJ,CACF,CAAC;IACH,CAAC,CAAC,OAAOH,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IACpD;EACF,CAAC;EAGD,MAAMyB,aAAa,GAAGA,CAAA,kBACpB7F,OAAA;IAAAqF,QAAA,gBACErF,OAAA;MAAIoF,SAAS,EAAC,yBAAyB;MAAAC,QAAA,EAAC;IAAsB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACnE3F,OAAA;MAAM8F,QAAQ,EAAEjD,cAAe;MAAAwC,QAAA,gBAC7BrF,OAAA;QAAKoF,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnBrF,OAAA;UAAO+F,OAAO,EAAC,YAAY;UAACX,SAAS,EAAC,0BAA0B;UAAAC,QAAA,EAAC;QAAW;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACpF3F,OAAA;UACEwE,IAAI,EAAC,MAAM;UACXwB,EAAE,EAAC,YAAY;UACfZ,SAAS,EAAC,2CAA2C;UACrD1C,KAAK,EAAE1B,UAAW;UAClBiF,QAAQ,EAAGC,CAAC,IAAKjF,aAAa,CAACiF,CAAC,CAACxC,MAAM,CAAChB,KAAK,CAAE;UAC/CyD,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN3F,OAAA;QAAKoF,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnBrF,OAAA;UAAO+F,OAAO,EAAC,aAAa;UAACX,SAAS,EAAC,0BAA0B;UAAAC,QAAA,EAAC;QAAW;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACrF3F,OAAA;UACEgG,EAAE,EAAC,aAAa;UAChBZ,SAAS,EAAC,2CAA2C;UACrD1C,KAAK,EAAExB,WAAY;UACnB+E,QAAQ,EAAGC,CAAC,IAAK/E,cAAc,CAAC+E,CAAC,CAACxC,MAAM,CAAChB,KAAK;UAC9C;QAAA;UAAA8C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN3F,OAAA;QAAKoF,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnBrF,OAAA;UAAO+F,OAAO,EAAC,WAAW;UAACX,SAAS,EAAC,0BAA0B;UAAAC,QAAA,EAAC;QAAgB;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACxF3F,OAAA;UACEwE,IAAI,EAAC,MAAM;UACXwB,EAAE,EAAC,WAAW;UACdI,MAAM,EAAC,SAAS;UAChBH,QAAQ,EAAGC,CAAC,IAAKN,qBAAqB,CAACM,CAAC,CAAE;UAC1Cd,SAAS,EAAC,2CAA2C;UACrDe,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,eACN3F,OAAA;QAAQwE,IAAI,EAAC,QAAQ;QAACY,SAAS,EAAC,8DAA8D;QAAAC,QAAA,EAAC;MAAI;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CACN;EAGD,MAAMU,aAAa,GAAGA,CAAA,kBACpBrG,OAAA;IAAAqF,QAAA,gBACErF,OAAA;MAAIoF,SAAS,EAAC,yBAAyB;MAAAC,QAAA,EAAC;IAAuB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EACnEvE,UAAU,CAACuD,GAAG,CAAC,CAACtC,SAAS,EAAEyC,KAAK,kBAC/B9E,OAAA;MAAiBoF,SAAS,EAAC,MAAM;MAAAC,QAAA,gBAC/BrF,OAAA;QACEwE,IAAI,EAAC,MAAM;QACX8B,WAAW,EAAG,cAAaxB,KAAK,GAAG,CAAE,OAAO;QAC5CM,SAAS,EAAC,gDAAgD;QAC1D1C,KAAK,EAAEL,SAAS,CAACf,IAAK;QACtB2E,QAAQ,EAAGC,CAAC,IAAK;UACf,MAAMtD,iBAAiB,GAAG,CAAC,GAAGxB,UAAU,CAAC;UACzCwB,iBAAiB,CAACkC,KAAK,CAAC,CAACxD,IAAI,GAAG4E,CAAC,CAACxC,MAAM,CAAChB,KAAK;UAC9CrB,aAAa,CAACuB,iBAAiB,CAAC;QAClC,CAAE;QACFuD,QAAQ;MAAA;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACF3F,OAAA;QACEsG,WAAW,EAAG,cAAaxB,KAAK,GAAG,CAAE,cAAc;QACnDM,SAAS,EAAC,gDAAgD;QAC1D1C,KAAK,EAAEL,SAAS,CAACnB,WAAY;QAC7B+E,QAAQ,EAAGC,CAAC,IAAK;UACf,MAAMtD,iBAAiB,GAAG,CAAC,GAAGxB,UAAU,CAAC;UACzCwB,iBAAiB,CAACkC,KAAK,CAAC,CAAC5D,WAAW,GAAGgF,CAAC,CAACxC,MAAM,CAAChB,KAAK;UACrDrB,aAAa,CAACuB,iBAAiB,CAAC;QAClC,CAAE;QACFuD,QAAQ;MAAA;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,EACDtD,SAAS,CAACd,kBAAkB,CAACoD,GAAG,CAAC,CAACrC,OAAO,EAAEG,YAAY,kBACtDzC,OAAA;QAAwBoF,SAAS,EAAC,wBAAwB;QAAAC,QAAA,gBACxDrF,OAAA;UACEoF,SAAS,EAAC,yCAAyC;UACnD1C,KAAK,EAAEJ,OAAO,CAACkC,IAAK;UACpByB,QAAQ,EAAGC,CAAC,IAAK;YACf,MAAMtD,iBAAiB,GAAG,CAAC,GAAGxB,UAAU,CAAC;YACzCwB,iBAAiB,CAACkC,KAAK,CAAC,CAACvD,kBAAkB,CAACkB,YAAY,CAAC,CAAC+B,IAAI,GAAG0B,CAAC,CAACxC,MAAM,CAAChB,KAAK;YAC/ErB,aAAa,CAACuB,iBAAiB,CAAC;UAClC,CAAE;UAAAyC,QAAA,gBAEFrF,OAAA;YAAQ0C,KAAK,EAAC,YAAY;YAAA2C,QAAA,EAAC;UAAU;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC9C3F,OAAA;YAAQ0C,KAAK,EAAC,OAAO;YAAA2C,QAAA,EAAC;UAAK;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACpC3F,OAAA;YAAQ0C,KAAK,EAAC,YAAY;YAAA2C,QAAA,EAAC;UAAU;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC9C3F,OAAA;YAAQ0C,KAAK,EAAC,QAAQ;YAAA2C,QAAA,EAAC;UAAM;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC,CAAC,EACRrD,OAAO,CAACkC,IAAI,KAAK,YAAY,iBAC5BxE,OAAA;UACEwE,IAAI,EAAC,MAAM;UACXY,SAAS,EAAC,2CAA2C;UACrDa,QAAQ,EAAGC,CAAC,IAAK5C,gBAAgB,CAAC4C,CAAC,EAAEpB,KAAK,EAAErC,YAAY,CAAE;UAC1D0D,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CACF,EACArD,OAAO,CAACkC,IAAI,KAAK,OAAO,iBACvBxE,OAAA;UACEwE,IAAI,EAAC,MAAM;UACXY,SAAS,EAAC,2CAA2C;UACrDa,QAAQ,EAAGC,CAAC,IAAK5C,gBAAgB,CAAC4C,CAAC,EAAEpB,KAAK,EAAErC,YAAY,CAAE;UAC1D0D,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CACF,EACArD,OAAO,CAACkC,IAAI,KAAK,YAAY,iBAC5BxE,OAAA;UACEwE,IAAI,EAAC,MAAM;UACX8B,WAAW,EAAC,WAAW;UACvBlB,SAAS,EAAC,2CAA2C;UACrD1C,KAAK,EAAEJ,OAAO,CAACI,KAAM;UACrBuD,QAAQ,EAAGC,CAAC,IAAK;YACf,MAAMtD,iBAAiB,GAAG,CAAC,GAAGxB,UAAU,CAAC;YACzCwB,iBAAiB,CAACkC,KAAK,CAAC,CAACvD,kBAAkB,CAACkB,YAAY,CAAC,CAACC,KAAK,GAAGwD,CAAC,CAACxC,MAAM,CAAChB,KAAK;YAChFrB,aAAa,CAACuB,iBAAiB,CAAC;UAClC,CAAE;UACFuD,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CACF,EACArD,OAAO,CAACkC,IAAI,KAAK,QAAQ,iBACxBxE,OAAA;UACEwE,IAAI,EAAC,MAAM;UACXY,SAAS,EAAC,2CAA2C;UACrDa,QAAQ,EAAGC,CAAC,IAAK5C,gBAAgB,CAAC4C,CAAC,EAAEpB,KAAK,EAAErC,YAAY,CAAE;UAC1D0D,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CACF,eACD3F,OAAA;UACEwE,IAAI,EAAC,QAAQ;UACb+B,OAAO,EAAEA,CAAA,KAAMvB,6BAA6B,CAACF,KAAK,EAAErC,YAAY,CAAE;UAClE2C,SAAS,EAAC,+DAA+D;UAAAC,QAAA,EAC1E;QAED;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA,GA3DDlD,YAAY;QAAA+C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OA4DjB,CACN,CAAC,eACF3F,OAAA;QACEwE,IAAI,EAAC,QAAQ;QACb+B,OAAO,EAAEA,CAAA,KAAMxB,0BAA0B,CAACD,KAAK,CAAE;QACjDM,SAAS,EAAC,iEAAiE;QAAAC,QAAA,EAC5E;MAED;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EACRvE,UAAU,CAACoF,MAAM,GAAG,CAAC,iBAAIxG,OAAA;QAAQwE,IAAI,EAAC,QAAQ;QAAC+B,OAAO,EAAEA,CAAA,KAAM1B,qBAAqB,CAACC,KAAK,CAAE;QAACM,SAAS,EAAC,0DAA0D;QAAAC,QAAA,EAAC;MAAiB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,GA9FpLb,KAAK;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OA+FV,CACN,CAAC,eACF3F,OAAA;MAAQuG,OAAO,EAAExD,kBAAmB;MAACqC,SAAS,EAAC,iEAAiE;MAAAC,QAAA,EAAC;IAAQ;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAClI3F,OAAA;MAAQuG,OAAO,EAAE1D,cAAe;MAACuC,SAAS,EAAC,8DAA8D;MAAAC,QAAA,EAAC;IAAI;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpH,CACN;EAED,MAAMc,eAAe,GAAGA,CAAA,kBAClBzG,OAAA;IAAAqF,QAAA,gBACErF,OAAA;MAAIoF,SAAS,EAAC,yBAAyB;MAAAC,QAAA,EAAC;IAAkB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAC9DvE,UAAU,CAACuD,GAAG,CAAC,CAACtC,SAAS,EAAEG,cAAc,kBACxCxC,OAAA;MAA0BoF,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACxCrF,OAAA;QAAIoF,SAAS,EAAC,4BAA4B;QAAAC,QAAA,GAAC,aAAW,EAAC7C,cAAc,GAAG,CAAC;MAAA;QAAAgD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,EAC9EtD,SAAS,CAACb,MAAM,CAACmD,GAAG,CAAC,CAAC+B,KAAK,EAAEtD,UAAU,kBACtCpD,OAAA;QAAsBoF,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACpCrF,OAAA;UACEwE,IAAI,EAAC,MAAM;UACX8B,WAAW,EAAG,SAAQlD,UAAU,GAAG,CAAE,OAAO;UAC5CgC,SAAS,EAAC,gDAAgD;UAC1D1C,KAAK,EAAEgE,KAAK,CAACpF,IAAK;UAClB2E,QAAQ,EAAGC,CAAC,IAAK;YACf,MAAMtD,iBAAiB,GAAG,CAAC,GAAGxB,UAAU,CAAC;YACzCwB,iBAAiB,CAACJ,cAAc,CAAC,CAAChB,MAAM,CAAC4B,UAAU,CAAC,CAAC9B,IAAI,GAAG4E,CAAC,CAACxC,MAAM,CAAChB,KAAK;YAC1ErB,aAAa,CAACuB,iBAAiB,CAAC;UAClC,CAAE;UACFuD,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CAAC,eACF3F,OAAA;UACE0C,KAAK,EAAEgE,KAAK,CAACC,MAAO;UACpBV,QAAQ,EAAGC,CAAC,IAAK;YACf,MAAMtD,iBAAiB,GAAG,CAAC,GAAGxB,UAAU,CAAC;YACzCwB,iBAAiB,CAACJ,cAAc,CAAC,CAAChB,MAAM,CAAC4B,UAAU,CAAC,CAACuD,MAAM,GAAGT,CAAC,CAACxC,MAAM,CAAChB,KAAK;YAC5ErB,aAAa,CAACuB,iBAAiB,CAAC;UAClC,CAAE;UACFwC,SAAS,EAAC,yCAAyC;UAAAC,QAAA,gBAEnDrF,OAAA;YAAQ0C,KAAK,EAAC,MAAM;YAAA2C,QAAA,EAAC;UAAY;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAC1C3F,OAAA;YAAQ0C,KAAK,EAAC,KAAK;YAAA2C,QAAA,EAAC;UAAS;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACtC3F,OAAA;YAAQ0C,KAAK,EAAC,MAAM;YAAA2C,QAAA,EAAC;UAAI;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CAAC,EACRe,KAAK,CAACC,MAAM,KAAK,MAAM,iBACtB3G,OAAA;UACEwE,IAAI,EAAC,MAAM;UACX4B,MAAM,EAAC,SAAS;UAChBhB,SAAS,EAAC,MAAM;UAChBa,QAAQ,EAAGC,CAAC,IAAKjB,iBAAiB,CAACiB,CAAC,EAAE1D,cAAc,EAAEY,UAAU,CAAE;UAClE+C,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CACF,EACAe,KAAK,CAACC,MAAM,KAAK,KAAK,iBACrB3G,OAAA;UACEwE,IAAI,EAAC,MAAM;UACX8B,WAAW,EAAC,WAAW;UACvBlB,SAAS,EAAC,2CAA2C;UACrD1C,KAAK,EAAEgE,KAAK,CAACxD,QAAS;UACtB+C,QAAQ,EAAGC,CAAC,IAAK;YACf,MAAMtD,iBAAiB,GAAG,CAAC,GAAGxB,UAAU,CAAC;YACzCwB,iBAAiB,CAACJ,cAAc,CAAC,CAAChB,MAAM,CAAC4B,UAAU,CAAC,CAACF,QAAQ,GAAGgD,CAAC,CAACxC,MAAM,CAAChB,KAAK;YAC9ErB,aAAa,CAACuB,iBAAiB,CAAC;UAClC,CAAE;UACFuD,QAAQ;QAAA;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT,CACF,EACAe,KAAK,CAACC,MAAM,KAAK,MAAM,iBACtB3G,OAAA;UAAAqF,QAAA,gBACErF,OAAA;YACEwE,IAAI,EAAC,MAAM;YACX4B,MAAM,EAAC,SAAS;YAChBhB,SAAS,EAAC,MAAM;YAChBa,QAAQ,EAAGC,CAAC,IAAKjB,iBAAiB,CAACiB,CAAC,EAAE1D,cAAc,EAAEY,UAAU,CAAE;YAClE+C,QAAQ;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eACF3F,OAAA;YACEwE,IAAI,EAAC,MAAM;YACX8B,WAAW,EAAC,WAAW;YACvBlB,SAAS,EAAC,2CAA2C;YACrD1C,KAAK,EAAEgE,KAAK,CAACxD,QAAS;YACtB+C,QAAQ,EAAGC,CAAC,IAAK;cACf,MAAMtD,iBAAiB,GAAG,CAAC,GAAGxB,UAAU,CAAC;cACzCwB,iBAAiB,CAACJ,cAAc,CAAC,CAAChB,MAAM,CAAC4B,UAAU,CAAC,CAACF,QAAQ,GAAGgD,CAAC,CAACxC,MAAM,CAAChB,KAAK;cAC9ErB,aAAa,CAACuB,iBAAiB,CAAC;YAClC,CAAE;YACFuD,QAAQ;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACN;MAAA,GAvEOvC,UAAU;QAAAoC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAwEf,CACN,CAAC,eACF3F,OAAA;QAAQwE,IAAI,EAAC,QAAQ;QAAC+B,OAAO,EAAEA,CAAA,KAAMvD,cAAc,CAACR,cAAc,CAAE;QAAC4C,SAAS,EAAC,iEAAiE;QAAAC,QAAA,EAAC;MAAS;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EAClKtD,SAAS,CAACb,MAAM,CAACgF,MAAM,GAAG,CAAC,iBAAIxG,OAAA;QAAQwE,IAAI,EAAC,QAAQ;QAAC+B,OAAO,EAAEA,CAAA,KAAMpD,iBAAiB,CAACX,cAAc,CAAE;QAAC4C,SAAS,EAAC,0DAA0D;QAAAC,QAAA,EAAC;MAAY;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,GA9E1LnD,cAAc;MAAAgD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OA+EnB,CACN,CAAC,eACF3F,OAAA;MAAQuG,OAAO,EAAExD,kBAAmB;MAACqC,SAAS,EAAC,iEAAiE;MAAAC,QAAA,EAAC;IAAQ;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAClI3F,OAAA;MAAQuG,OAAO,EAAE1D,cAAe;MAACuC,SAAS,EAAC,8DAA8D;MAAAC,QAAA,EAAC;IAAI;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpH,CACN;EAEL,MAAMiB,cAAc,GAAGA,CAAA,kBACrB5G,OAAA;IAAAqF,QAAA,gBACErF,OAAA;MAAIoF,SAAS,EAAC,yBAAyB;MAAAC,QAAA,EAAC;IAA0B;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACvE3F,OAAA;MAAKoF,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnBrF,OAAA;QAAIoF,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAAc;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC9D3F,OAAA;QAAAqF,QAAA,gBAAGrF,OAAA;UAAAqF,QAAA,EAAQ;QAAY;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAAC3E,UAAU;MAAA;QAAAwE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACjD3F,OAAA;QAAAqF,QAAA,gBAAGrF,OAAA;UAAAqF,QAAA,EAAQ;QAAY;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,KAAC,EAACzE,WAAW;MAAA;QAAAsE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/C,CAAC,eACN3F,OAAA;MAAAqF,QAAA,gBACErF,OAAA;QAAIoF,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAAsB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACrEvE,UAAU,CAACuD,GAAG,CAAC,CAACtC,SAAS,EAAEyC,KAAK,kBAC/B9E,OAAA;QAAiBoF,SAAS,EAAC,MAAM;QAAAC,QAAA,gBAC/BrF,OAAA;UAAIoF,SAAS,EAAC,4BAA4B;UAAAC,QAAA,GAAC,aAAW,EAACP,KAAK,GAAG,CAAC;QAAA;UAAAU,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACtE3F,OAAA;UAAAqF,QAAA,gBAAGrF,OAAA;YAAAqF,QAAA,EAAQ;UAAK;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAACtD,SAAS,CAACf,IAAI;QAAA;UAAAkE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC9C3F,OAAA;UAAAqF,QAAA,gBAAGrF,OAAA;YAAAqF,QAAA,EAAQ;UAAY;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,KAAC,EAACtD,SAAS,CAACnB,WAAW;QAAA;UAAAsE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5D3F,OAAA;UAAAqF,QAAA,eAAGrF,OAAA;YAAAqF,QAAA,EAAQ;UAAO;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC/B3F,OAAA;UAAAqF,QAAA,EACGhD,SAAS,CAACb,MAAM,CAACmD,GAAG,CAAC,CAAC+B,KAAK,EAAEtD,UAAU,kBACtCpD,OAAA;YAAAqF,QAAA,GACGqB,KAAK,CAACpF,IAAI,EAAC,KAAG,EAACoF,KAAK,CAACxD,QAAQ,GAAG,UAAU,GAAG,cAAc;UAAA,GADrDE,UAAU;YAAAoC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEf,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eACL3F,OAAA;UAAAqF,QAAA,eAAGrF,OAAA;YAAAqF,QAAA,EAAQ;UAAoB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC5C3F,OAAA;UAAAqF,QAAA,EACGhD,SAAS,CAACd,kBAAkB,CAACoD,GAAG,CAAC,CAACrC,OAAO,EAAEG,YAAY,kBACtDzC,OAAA;YAAAqF,QAAA,GACG/C,OAAO,CAACkC,IAAI,EAAC,KAAG,EAAClC,OAAO,CAACI,KAAK,GAAG,UAAU,GAAG,cAAc;UAAA,GADtDD,YAAY;YAAA+C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEjB,CACL;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC;MAAA,GAnBGb,KAAK;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAoBV,CACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eACN3F,OAAA;MAAQuG,OAAO,EAAE3B,kBAAmB;MAACQ,SAAS,EAAC,iEAAiE;MAAAC,QAAA,EAAC;IAAc;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC1I3F,OAAA;MAAQuG,OAAO,EAAExD,kBAAmB;MAACqC,SAAS,EAAC,iEAAiE;MAAAC,QAAA,EAAC;IAAQ;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC/H3F,OAAA;MAAQuG,OAAO,EAAEzD,YAAa;MAACsC,SAAS,EAAC,8DAA8D;MAAAC,QAAA,EAAC;IAAM;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrH,CACN;EACD,MAAMkB,uBAAuB,GAAGA,CAACrE,cAAc,EAAEC,YAAY,KAAK;IAChE,MAAMH,OAAO,GAAGlB,UAAU,CAACoB,cAAc,CAAC,CAACjB,kBAAkB,CAACkB,YAAY,CAAC;IAC3E,IAAIH,OAAO,CAACkC,IAAI,KAAK,YAAY,EAAE;MACjC,oBACExE,OAAA;QACEwE,IAAI,EAAC,MAAM;QACX8B,WAAW,EAAC,WAAW;QACvBlB,SAAS,EAAC,2CAA2C;QACrD1C,KAAK,EAAEJ,OAAO,CAACI,KAAM;QACrBuD,QAAQ,EAAGC,CAAC,IAAK3D,6BAA6B,CAACC,cAAc,EAAEC,YAAY,EAAEyD,CAAC,CAACxC,MAAM,CAAChB,KAAK,CAAE;QAC7FyD,QAAQ;MAAA;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC;IAEN,CAAC,MAAM;MACL,oBACE3F,OAAA;QACEwE,IAAI,EAAC,MAAM;QACXY,SAAS,EAAC,2CAA2C;QACrDa,QAAQ,EAAGC,CAAC,IAAK5C,gBAAgB,CAAC4C,CAAC,EAAE1D,cAAc,EAAEC,YAAY,EAAE,KAAK,CAAE;QAC1E0D,QAAQ;MAAA;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC;IAEN;EACF,CAAC;EAED,MAAMmB,eAAe,GAAGA,CAACzE,SAAS,EAAEG,cAAc,kBAChDxC,OAAA;IAA0BoF,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACxCrF,OAAA;MAAIoF,SAAS,EAAC,4BAA4B;MAAAC,QAAA,GAAC,aAAW,EAAC7C,cAAc,GAAG,CAAC;IAAA;MAAAgD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAC/E3F,OAAA;MAAAqF,QAAA,gBAAGrF,OAAA;QAAAqF,QAAA,EAAQ;MAAK;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,KAAC,EAACtD,SAAS,CAACf,IAAI;IAAA;MAAAkE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC9C3F,OAAA;MAAAqF,QAAA,gBAAGrF,OAAA;QAAAqF,QAAA,EAAQ;MAAY;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,KAAC,EAACtD,SAAS,CAACnB,WAAW;IAAA;MAAAsE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC5D3F,OAAA;MAAAqF,QAAA,eAAGrF,OAAA;QAAAqF,QAAA,EAAQ;MAAO;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EAC9BtD,SAAS,CAACb,MAAM,CAACmD,GAAG,CAAC,CAAC+B,KAAK,EAAEtD,UAAU,kBACtCpD,OAAA;MAAsBoF,SAAS,EAAC;IAAM,GAA5BhC,UAAU;MAAAoC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEf,CACN,CAAC,eACF3F,OAAA;MAAAqF,QAAA,eAAGrF,OAAA;QAAAqF,QAAA,EAAQ;MAAoB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EAC3CtD,SAAS,CAACd,kBAAkB,CAACoD,GAAG,CAAC,CAACrC,OAAO,EAAEG,YAAY,kBACtDzC,OAAA;MAAwBoF,SAAS,EAAC;IAAwB,GAAhD3C,YAAY;MAAA+C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEjB,CACN,CAAC;EAAA,GAfMnD,cAAc;IAAAgD,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAgBnB,CACN;EAED,oBACE3F,OAAA;IAAKoF,SAAS,EAAC,yDAAyD;IAAAC,QAAA,GACrEvE,WAAW,KAAK,CAAC,IAAI+E,aAAa,CAAC,CAAC,EACpC/E,WAAW,KAAK,CAAC,IAAIuF,aAAa,CAAC,CAAC,EACpCvF,WAAW,KAAK,CAAC,IAAI2F,eAAe,CAAC,CAAC,EACtC3F,WAAW,KAAK,CAAC,IAAI8F,cAAc,CAAC,CAAC,EACrCnF,SAAS,iBACRzB,OAAA;MAAKoF,SAAS,EAAC,uEAAuE;MAAAC,QAAA,eACpFrF,OAAA;QAAKoF,SAAS,EAAC,yBAAyB;QAAAC,QAAA,gBACtCrF,OAAA;UAAGoF,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAE1D;QAAY;UAAA6D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvD3F,OAAA;UAAQuG,OAAO,EAAEA,CAAA,KAAM7E,YAAY,CAAC,KAAK,CAAE;UAAC0D,SAAS,EAAC,iEAAiE;UAAAC,QAAA,EAAC;QAAK;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC9E,EAAA,CA9lBID,aAAa;AAAAmG,EAAA,GAAbnG,aAAa;AAgmBnB,eAAeA,aAAa;AAAC,IAAAmG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}